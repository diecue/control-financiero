<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title th:text="${ciudad?.id == null ? 'Nueva Ciudad' : 'Editar Ciudad'}">
    Formulario Ciudad
  </title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="p-4">

  <div class="container">
    <h3 th:text="${ciudad?.id == null ? 'Nueva Ciudad' : 'Editar Ciudad'}"></h3>

    <form th:action="@{/ciudades/guardar}" method="post" class="mt-3">

      <input type="hidden" name="id" th:value="${ciudad.id}" />

      <div class="mb-3">
        <label class="form-label">Descripci√≥n</label>
        <input type="text" name="descripcion" class="form-control"
               th:value="${ciudad.descripcion}" required maxlength="80" />
      </div>

      <div class="mb-3">
        <label class="form-label">Departamento</label>
        <select name="departamento.id" class="form-select" required>
          <option th:each="d : ${departamentos}"
                  th:value="${d.id}"
                  th:text="${d.descripcion}"
                  th:selected="${ciudad.departamento?.id == d.id}">
          </option>
        </select>
      </div>

      <button type="submit" class="btn btn-success">Guardar</button>
      <a href="/ciudades" class="btn btn-secondary">Cancelar</a>
    </form>
  </div>

</body>
</html>
