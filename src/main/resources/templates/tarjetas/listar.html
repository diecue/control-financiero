<!DOCTYPE html><html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8"><title>Tarjetas</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
  <link rel="stylesheet"
        href="https://cdn.datatables.net/1.13.8/css/dataTables.bootstrap5.min.css">
</head><body class="p-4">
<div class="container">
  <h3 class="mb-3">Tarjetas</h3>
  <div class="mb-3">
  	<a href="/" class="btn btn-secondary">Volver al Index</a>
  	<a href="/tarjetas/form" class="btn btn-success">Nueva Tarjeta</a>
  </div>
  <table id="tablaTarjetas" class="table table-striped">
    <thead><tr>
      <th>ID</th><th>Banco</th><th>Nombre</th><th>Numero</th><th>Titular</th><th>Venc.</th><th>Acciones</th>
    </tr></thead>
    <tbody>
      <tr th:each="t : ${tarjetas}">
        <td th:text="${t.id}">1</td>
        <td th:text="${t.banco.descripcion}">Banco</td>
        <td th:text="${t.nombreTarjeta}">Visa</td>
        <td th:text="${t.numeroEnmascarado}">****-1234</td>
        <td th:text="${t.titular}">Juan P.</td>
        <td th:text="${t.fechaVenc}">2026-01-01</td>
        <td>
          <a th:href="@{'/tarjetas/editar/'+${t.id}}" class="btn btn-sm btn-info">Editar</a>
          <form th:action="@{/tarjetas/eliminar}" method="post" style="display:inline-block">
            <input type="hidden" name="id" th:value="${t.id}">
            <button class="btn btn-sm btn-danger"
                    onclick="return confirm('Â¿Eliminar tarjeta?');">Eliminar</button>
          </form>
        </td>
      </tr>
    </tbody>
  </table>
</div>
<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.13.8/js/dataTables.bootstrap5.min.js"></script>
<script>$( ()=> $('#tablaTarjetas').DataTable({language:{url:'//cdn.datatables.net/plug-ins/1.13.8/i18n/es-ES.json'}}) );</script>
</body></html>
