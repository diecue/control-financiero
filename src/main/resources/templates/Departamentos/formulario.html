<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8" />
  <title th:text="${departamento?.id == null ? 'Nuevo Departamento' : 'Editar Departamento'}">Formulario Departamento</title>
  <link rel="stylesheet"
        href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css">
</head>
<body class="p-4">

  <div class="container">
    <h3 th:text="${departamento?.id == null ? 'Nuevo Departamento' : 'Editar Departamento'}"></h3>

    <form th:action="@{/departamentos/guardar}" method="post" class="mt-3">

      <input type="hidden" name="id" th:value="${departamento.id}" />

      <div class="mb-3">
        <label class="form-label">Descripción</label>
        <input type="text" name="descripcion" class="form-control"
               th:value="${departamento.descripcion}" required maxlength="80" />
      </div>

      <div class="mb-3">
        <label class="form-label">País</label>
        <select name="pais.id" class="form-select" required>
          <option th:each="p : ${paises}"
                  th:value="${p.id}"
                  th:text="${p.descripcion}"
                  th:selected="${departamento.pais?.id == p.id}">
          </option>
        </select>
      </div>

      <button type="submit" class="btn btn-success">Guardar</button>
      <a href="/departamentos" class="btn btn-secondary">Cancelar</a>
    </form>
  </div>

</body>
</html>
